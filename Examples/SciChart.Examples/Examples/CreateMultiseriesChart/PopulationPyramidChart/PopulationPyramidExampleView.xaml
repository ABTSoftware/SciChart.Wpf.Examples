<UserControl x:Class="SciChart.Examples.Examples.CreateMultiseriesChart.PopulationPyramidChart.PopulationPyramidExampleView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:example="clr-namespace:SciChart.Examples.Examples.CreateMultiseriesChart.PopulationPyramidChart"
             xmlns:ext="http://schemas.abtsoftware.co.uk/scichart/exampleExternals"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:s="http://schemas.abtsoftware.co.uk/scichart"
             d:DesignHeight="400"
             d:DesignWidth="600"
             mc:Ignorable="d">

    <UserControl.Resources>
        <!-- Defines custom appearance for axis labels -->
        <Style x:Key="CustomTickLabelStyle" TargetType="s:DefaultTickLabel">
            <Setter Property="Width" Value="48" />
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <TextBlock HorizontalAlignment="Center"
                                   Foreground="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ContentControl}, Path=Foreground}"
                                   Text="{Binding Text}" />
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Defines custom Axis Panel for Y axes -->
        <ItemsPanelTemplate x:Key="YAxesPanel">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="50" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
            </Grid>
        </ItemsPanelTemplate>

        <!-- Defines custom Axis Panel for X axes -->
        <ItemsPanelTemplate x:Key="CenterXAxesPanel">
            <Grid HorizontalAlignment="Center">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
            </Grid>
        </ItemsPanelTemplate>
    </UserControl.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- The SciChartInteractionToolbar adds zoom, pan, zoom extents and rotate functionality -->
        <!-- to the chart and is included for example purposes. -->
        <!-- If you wish to know how to zoom and pan a chart then do a search for Zoom Pan in the Examples suite! -->
        <ext:SciChartInteractionToolbar IsZoomXAxisOnly="True">
            <ToggleButton s:ToggleButtonExtensions.GroupName="PopulationPyramideExample_ZoomGroup"
                          IsChecked="{Binding Source={x:Reference RubberBandXyZoomModifier}, Path=IsEnabled, Mode=TwoWay}"
                          Style="{StaticResource DefaultToggleButtonStyle}">
                <ext:ToolbarIcon Kind="MagnifyPlusOutline" Style="{StaticResource ToolbarButtonIconStyle}" />
            </ToggleButton>
            <ToggleButton s:ToggleButtonExtensions.GroupName="PopulationPyramideExample_ZoomGroup"
                          IsChecked="{Binding Source={x:Reference ZoomPanModifier}, Path=IsEnabled, Mode=TwoWay}"
                          Style="{StaticResource DefaultToggleButtonStyle}">
                <ext:ToolbarIcon Kind="ArrowAll" Style="{StaticResource ToolbarButtonIconStyle}" />
            </ToggleButton>
            <Button Command="{Binding Source={x:Reference sciChart}, Path=AnimateZoomExtentsCommand}"
                    Style="{StaticResource DefaultButtonStyle}"
                    ToolTipService.ToolTip="Zoom to Extents">
                <ext:ToolbarIcon Kind="FitToPageOutline" Style="{StaticResource ToolbarButtonIconStyle}" />
            </Button>
        </ext:SciChartInteractionToolbar>

        <!--  Declare the chart surface -->
        <s:SciChartSurface Name="sciChart"
                           Grid.Column="1"
                           Padding="0"
                           BorderThickness="0"
                           BottomAxesPanelTemplate="{StaticResource YAxesPanel}"
                           CenterXAxesPanelTemplate="{StaticResource CenterXAxesPanel}"
                           ChartTitle="Population Pyramid">

            <!--  Declare two Column Series -->
            <s:SciChartSurface.RenderableSeries>
                <s:FastColumnRenderableSeries x:Name="MalePopulationSeries"
                                              DataPointWidth="0.8"
                                              Fill="{StaticResource GroupSeriesGradientBrush_1}"
                                              StrokeThickness="0"
                                              YAxisId="MalePopulationYAxis">
                    <s:FastColumnRenderableSeries.SeriesAnimation>
                        <s:SweepAnimation AnimationDelay="0:0:0.2" Duration="0:0:1" />
                    </s:FastColumnRenderableSeries.SeriesAnimation>
                </s:FastColumnRenderableSeries>

                <s:FastColumnRenderableSeries x:Name="FemalePopulationSeries"
                                              DataPointWidth="0.8"
                                              Fill="{StaticResource GroupSeriesGradientBrush_5}"
                                              StrokeThickness="0"
                                              YAxisId="FemalePopulationYAxis">
                    <s:FastColumnRenderableSeries.SeriesAnimation>
                        <s:SweepAnimation AnimationDelay="0:0:0.2" Duration="0:0:1" />
                    </s:FastColumnRenderableSeries.SeriesAnimation>
                </s:FastColumnRenderableSeries>
            </s:SciChartSurface.RenderableSeries>

            <!-- Create an X Axis -->
            <s:SciChartSurface.XAxis>
                <s:NumericAxis x:Name="PopulationAgeXAxis"
                               AxisAlignment="Left"
                               DrawMajorBands="False"
                               DrawMajorTicks="False"
                               DrawMajorGridLines="False"
                               DrawMinorGridLines="False"
                               DrawMinorTicks="False"
                               FlipCoordinates="True"
                               IsCenterAxis="True"
                               AutoTicks="False"
                               MajorDelta="5"
                               TickLabelStyle="{StaticResource CustomTickLabelStyle}"
                               VisibleRangeLimit="-4, 150" />
            </s:SciChartSurface.XAxis>

            <!-- Two Y Axes at bottom -->
            <s:SciChartSurface.YAxes>
                <s:NumericAxis x:Name="MalePopulationYAxis"
                               Id="MalePopulationYAxis"
                               Grid.Column="0"
                               AxisAlignment="Bottom"
                               AxisTitle="Male"
                               FlipCoordinates="False"
                               GrowBy="0, 0.1"
                               AutoTicks="False"
                               MajorDelta="5000000"
                               CursorTextFormatting="N0"
                               TextFormatting="0,,.0M"
                               DrawMajorBands="False"
                               DrawMajorTicks="True"
                               DrawMajorGridLines="True"
                               DrawMinorGridLines="False"/>
                <s:NumericAxis x:Name="FemalePopulationYAxis"
                               Id="FemalePopulationYAxis"
                               Grid.Column="2"
                               AxisAlignment="Bottom"
                               AxisTitle="Female"
                               FlipCoordinates="True"
                               GrowBy="0, 0.1"
                               AutoTicks="False"
                               MajorDelta="5000000"
                               CursorTextFormatting="N0"
                               TextFormatting="0,,.0M"
                               DrawMajorBands="False"
                               DrawMajorTicks="True"
                               DrawMajorGridLines="True"
                               DrawMinorGridLines="False"/>

                <!-- Invisible top Y-Axis that is used to show the title -->
                <s:NumericAxis Margin="0,0,5,0"
                               AxisAlignment="Top"
                               AxisTitle="Age"
                               DrawLabels="False"
                               DrawMajorTicks="False"
                               DrawMinorTicks="False" />
            </s:SciChartSurface.YAxes>

            <s:SciChartSurface.ChartModifier>
                <s:ModifierGroup>
                    <s:ZoomExtentsModifier />
                    <s:RubberBandXyZoomModifier x:Name="RubberBandXyZoomModifier"
                                                XyDirection="XDirection"
                                                IsEnabled="True" />
                    <example:CustomMouseWheelZoomModifier XyDirection="XDirection" />
                    <s:ZoomPanModifier x:Name="ZoomPanModifier" XyDirection="XDirection" IsEnabled="False" />
                    <s:TooltipModifier />
                    <s:LegendModifier x:Name="LegendModifier" ShowLegend="False" />
                </s:ModifierGroup>
            </s:SciChartSurface.ChartModifier>
        </s:SciChartSurface>

        <!-- Chart Legend -->
        <s:SciChartLegend Grid.Column="1"
                          Margin="10"
                          HorizontalAlignment="Left"
                          VerticalAlignment="Top"
                          Background="{Binding Path=Background, ElementName=LegendModifier}"
                          BorderBrush="{Binding Path=BorderBrush, ElementName=LegendModifier}"
                          BorderThickness="1"
                          LegendData="{Binding LegendData, ElementName=LegendModifier, Mode=OneWay}"
                          Orientation="Vertical"
                          ShowSeriesMarkers="True"
                          ShowVisibilityCheckboxes="False" />
    </Grid>
</UserControl>